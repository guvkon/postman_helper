var _={isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},getGlobal:function(a){if(a)return globals[a]},g:function(a){return _.getGlobal(a)},getEnv:function(a){return environment[a]},e:function(a){return _.getEnv(a)},setEnv:function(a,b){postman.setEnvironmentVariable(a,b)},clearEnv:function(a){if(Array.isArray(a))for(var b in a)postman.clearEnvironmentVariable(a[b]);else postman.clearEnvironmentVariable(a)},getEnvOrGlobal:function(a){return _.e(a)||_.g(a)},eg:function(a){return _.getEnvOrGlobal(a)}},Tester=function(a){this.data=a||JSON.parse(responseBody.trim()),this.validator=new Validator(this.data),this.testNumber=0};Tester.prototype.addTest=function(a,b){return this.testNumber++,a="#"+this.testNumber+". "+a,tests[a]=b,tests[a]},Tester.prototype.isEnvsEqual=function(a,b){return this.addTest("Envs are equal",this.validator.isEnvsEqual(a,b))},Tester.prototype.isEnvsNotEqual=function(a,b){return this.addTest("Envs are not equal",!this.validator.isEnvsEqual(a,b))},Tester.prototype.isResponseCorrect=function(a){return this.addTest("Correct response",this.validator.isResponseCorrect(a))},Tester.prototype.isElementInArray=function(a,b){return this.addTest("Element is in array",this.validator.isElementInArray(a,b))},Tester.prototype.sleep=function(a){var b=new Date,c=null;do{c=new Date}while(c-b<a)};var Validator=function(a){this.data=a,this.debugNumber=0};Validator.prototype.debug=function(a,b){this.debugNumber++,b=b||"Debug",b+=" #"+this.debugNumber+". "+JSON.stringify(a),tests[b]=!0},Validator.prototype.replaceTemplateVariables=function(a){if("string"!=typeof a)return a;for(var b,c=/{{(.*?)}}/g;;){if(null===(b=c.exec(a)))break;a=a.replace(b[0],_.eg(b[1]))}return a},Validator.prototype.isElementFieldCorrect=function(a,b){if(void 0===a&&void 0!==b)return!1;if("string"==typeof b)return b=this.replaceTemplateVariables(b),a==b;if("object"!=typeof b||null===b)return a===b;if(Array.isArray(b)&&0===b.length)return 0===a.length;for(var c in b)if(!this.isElementFieldCorrect(a[c],b[c]))return!1;return a.length===b.length},Validator.prototype.isElementCorrect=function(a,b){for(var c in a){var d=a[c];if(!this.isElementFieldCorrect(b[c],d))return!1}return!0},Validator.prototype.isEnvsEqual=function(a,b){return _.e(a)==_.e(b)},Validator.prototype.isResponseCorrect=function(a){return this.isElementCorrect(a,this.data)},Validator.prototype.isElementInArray=function(a,b){for(var c in b)if(this.isElementCorrect(a,b[c]))return!0;return!1};